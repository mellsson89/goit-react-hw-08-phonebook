(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[4],{107:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(25),u=n.n(a),o=n(10),i=n(26),s=function(t){return t.auth.isAuthenticated},b=n(19),j=(n(80),n(32)),O=n.n(j),f=n(2);function d(){var t=Object(o.c)((function(t){return s(t)}));return Object(f.jsxs)("div",{className:O.a.menuMain,children:[Object(f.jsx)(b.b,{exact:!0,to:"/",className:O.a.menuMainLink,activeClassName:O.a.menuLink_active,children:"Home"}),t&&Object(f.jsx)(b.b,{exact:!0,className:O.a.menuMainLink,activeClassName:O.a.menuLink_active,to:"/contacts",children:"Contacts "})]})}var l=n(33),h=n.n(l),p=function(){return Object(f.jsxs)("div",{className:h.a.menu,children:[Object(f.jsx)(b.b,{exact:!0,to:"/registered",className:h.a.menuLink,activeClassName:h.a.menuLink_active,children:"Register"}),Object(f.jsx)(b.b,{exact:!0,to:"/login",className:h.a.menuLink,activeClassName:h.a.menuLink_active,children:"Login"})]})},m=n(61),x=n.n(m),v=n(38),g=n(122),k=n(62),_=n.n(k),y=function(t){var e=t.avatar,n=Object(o.c)((function(t){return function(t){return t.auth.user.name}(t)})),c=Object(o.b)();return Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:e,alt:"",width:"32"}),Object(f.jsxs)("span",{className:_.a.name,children:["Welcome,",n]}),Object(f.jsx)(g.a,{variant:"contained",color:"primary",size:"small",type:"button",onClick:function(){return c(Object(v.c)())},children:"Logout"})]})};function C(){var t=Object(o.c)((function(t){return s(t)}));return Object(f.jsxs)("header",{className:x.a.header,children:[Object(f.jsx)(d,{}),t?Object(f.jsx)(y,{}):Object(f.jsx)(p,{})]})}var L="/",w="/contacts",N="/registered",M="/login",E=n(20),S=n(6),T=["component","redirectTo"];function q(t){var e=t.component,n=t.redirectTo,c=Object(S.a)(t,T),r=Object(o.c)((function(t){return s(t)}));return Object(f.jsx)(i.b,Object(E.a)(Object(E.a)({},c),{},{render:function(t){return r?Object(f.jsx)(e,Object(E.a)({},t)):Object(f.jsx)(i.a,{to:n})}}))}var R=["component","redirectTo"];function z(t){var e=t.component,n=t.redirectTo,c=Object(S.a)(t,R),r=Object(o.c)((function(t){return s(t)}));return Object(f.jsx)(i.b,Object(E.a)(Object(E.a)({},c),{},{render:function(t){return r&&c.restricted?Object(f.jsx)(i.a,{to:n}):Object(f.jsx)(e,Object(E.a)({},t))}}))}var U=Object(c.lazy)((function(){return n.e(2).then(n.bind(null,195))})),A=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(8),n.e(1)]).then(n.bind(null,200))})),I=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,197))})),F=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,198))}));function H(){var t=Object(o.b)();return Object(c.useEffect)((function(){t(Object(v.a)())}),[t]),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(c.Suspense,{fallback:Object(f.jsx)("p",{children:"Loading..."}),children:[Object(f.jsx)(C,{}),Object(f.jsxs)(i.d,{children:[Object(f.jsx)(z,{exact:!0,path:L,component:U}),Object(f.jsx)(q,{path:w,component:A,redirectTo:"/login"}),Object(f.jsx)(z,{restricted:!0,redirectTo:"/contacts",path:N,component:I}),Object(f.jsx)(z,{restricted:!0,redirectTo:"/contacts",path:M,component:F})]})]})})}var P,Q,B,J,W,K,V,Y=n(21),D=n(3),G=n(8),X=n(4),Z=n(7),$=Object(X.c)([],(P={},Object(D.a)(P,Z.i,(function(t,e){return e.payload})),Object(D.a)(P,Z.c,(function(t,e){var n=e.payload;return[].concat(Object(Y.a)(t),[n])})),Object(D.a)(P,Z.f,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),P)),tt=Object(X.c)("",Object(D.a)({},Z.j,(function(t,e){return e.payload}))),et=Object(X.c)(!1,(Q={},Object(D.a)(Q,Z.b,(function(){return!0})),Object(D.a)(Q,Z.c,(function(){return!1})),Object(D.a)(Q,Z.a,(function(){return!1})),Object(D.a)(Q,Z.e,(function(){return!0})),Object(D.a)(Q,Z.f,(function(){return!1})),Object(D.a)(Q,Z.d,(function(){return!1})),Object(D.a)(Q,Z.h,(function(){return!0})),Object(D.a)(Q,Z.i,(function(){return!1})),Object(D.a)(Q,Z.g,(function(){return!1})),Q)),nt=Object(X.c)(!1,(B={},Object(D.a)(B,Z.b,(function(){return!1})),Object(D.a)(B,Z.c,(function(){return!1})),Object(D.a)(B,Z.a,(function(){return!0})),Object(D.a)(B,Z.e,(function(){return!1})),Object(D.a)(B,Z.f,(function(){return!1})),Object(D.a)(B,Z.d,(function(){return!0})),Object(D.a)(B,Z.h,(function(){return!1})),Object(D.a)(B,Z.i,(function(){return!1})),Object(D.a)(B,Z.g,(function(){return!0})),B)),ct=Object(G.b)({items:$,filter:tt,loading:et,errorMessenger:nt}),rt=n(5),at={name:null,email:null},ut=Object(X.c)(at,(J={},Object(D.a)(J,rt.l,(function(t,e){return e.payload.user})),Object(D.a)(J,rt.f,(function(t,e){return e.payload.user})),Object(D.a)(J,rt.i,(function(){return at})),Object(D.a)(J,rt.c,(function(t,e){return e.payload})),J)),ot=Object(X.c)(null,(W={},Object(D.a)(W,rt.l,(function(t,e){return e.payload.token})),Object(D.a)(W,rt.f,(function(t,e){return e.payload.token})),Object(D.a)(W,rt.i,(function(){return null})),W)),it=Object(X.c)(null,(K={},Object(D.a)(K,rt.j,(function(t,e){return e.payload})),Object(D.a)(K,rt.d,(function(t,e){return e.payload})),Object(D.a)(K,rt.g,(function(t,e){return e.payload})),Object(D.a)(K,rt.a,(function(t,e){return e.payload})),K)),st=Object(X.c)(!1,(V={},Object(D.a)(V,rt.f,(function(){return!0})),Object(D.a)(V,rt.l,(function(){return!0})),Object(D.a)(V,rt.c,(function(){return!0})),Object(D.a)(V,rt.i,(function(){return!1})),Object(D.a)(V,rt.j,(function(){return!1})),Object(D.a)(V,rt.d,(function(){return!1})),Object(D.a)(V,rt.a,(function(){return!1})),V)),bt=Object(G.b)({user:ut,token:ot,isAuthenticated:st,error:it}),jt=n(66),Ot=n.n(jt),ft=n(24),dt=n(67),lt=n.n(dt),ht=[].concat(Object(Y.a)(Object(X.d)({serializableCheck:{ignoredActions:[ft.a,ft.f,ft.b,ft.c,ft.d,ft.e]}})),[Ot.a]),pt={key:"token",storage:lt.a,whitelist:["token"]},mt=Object(X.a)({reducer:{contacts:ct,auth:Object(ft.g)(pt,bt)},middleware:ht,devTools:!1}),xt=Object(ft.h)(mt),vt=n(68);u.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(vt.a,{loading:null,persistor:xt,children:Object(f.jsx)(o.a,{store:mt,children:Object(f.jsx)(b.a,{children:Object(f.jsx)(H,{})})})})}),document.getElementById("root"))},32:function(t,e,n){t.exports={menuMain:"menu_menuMain__2TQqH",menuItem:"menu_menuItem__1HV2o",menuMainLink:"menu_menuMainLink__9hUTq",menuLink_active:"menu_menuLink_active__3CMOx"}},33:function(t,e,n){t.exports={menu:"authnac_menu__1lEFQ",menuLink:"authnac_menuLink__vFlIe",menuLink_active:"authnac_menuLink_active__2WUQS"}},38:function(t,e,n){"use strict";n.d(e,"d",(function(){return j})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return d}));var c=n(23),r=n.n(c),a=n(37),u=n(27),o=n.n(u),i=n(5);o.a.defaults.baseURL="https://connections-api.herokuapp.com";var s=function(t){o.a.defaults.headers.Authorization="Bearer ".concat(t)},b=function(){o.a.defaults.headers.Authorization=""},j=function(t){return function(){var e=Object(a.a)(r.a.mark((function e(n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(i.k)()),e.prev=1,e.next=4,o.a.post("/users/signup",t);case 4:c=e.sent,s(c.data.token),n(Object(i.l)(c.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(Object(i.j)(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},O=function(t){return function(){var e=Object(a.a)(r.a.mark((function e(n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(i.e)()),e.prev=1,e.next=4,o.a.post("/users/login",t);case 4:c=e.sent,s(c.data.token),n(Object(i.f)(c.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(Object(i.d)(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},f=function(){return function(){var t=Object(a.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(i.h)()),t.prev=1,t.next=4,o.a.post("/users/logout");case 4:b(),e(Object(i.i)()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(Object(i.g)(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},d=function(){return function(){var t=Object(a.a)(r.a.mark((function t(e,n){var c,a,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n(),a=c.auth.token){t.next=3;break}return t.abrupt("return");case 3:return s(a),e(Object(i.b)()),t.prev=5,t.next=8,o.a.get("/users/current");case 8:u=t.sent,e(Object(i.c)(u.data)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e(Object(i.a)(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}()}},5:function(t,e,n){"use strict";n.d(e,"k",(function(){return r})),n.d(e,"l",(function(){return a})),n.d(e,"j",(function(){return u})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return b})),n.d(e,"i",(function(){return j})),n.d(e,"g",(function(){return O})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return l}));var c=n(4),r=Object(c.b)("auth/registerRequest"),a=Object(c.b)("auth/registerSuccess"),u=Object(c.b)("auth/registerError"),o=Object(c.b)("auth/loginRequest"),i=Object(c.b)("auth/loginSuccess"),s=Object(c.b)("auth/loginError"),b=Object(c.b)("auth/logoutRequest"),j=Object(c.b)("auth/logoutSuccess"),O=Object(c.b)("auth/logoutError"),f=Object(c.b)("auth/getCurrentUserRequest"),d=Object(c.b)("auth/getCurrentUserSuccess"),l=Object(c.b)("auth/getCurrentUserError")},61:function(t,e,n){t.exports={header:"appbar_header__i0mk2"}},62:function(t,e,n){t.exports={name:"userMenu_name__whKYO"}},7:function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"i",(function(){return a})),n.d(e,"g",(function(){return u})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"d",(function(){return O})),n.d(e,"j",(function(){return f}));var c=n(4),r=Object(c.b)("contacts/fetchContactsRequest"),a=Object(c.b)("contacts/fetchContactsSuccess"),u=Object(c.b)("contacts/fetchContactsError"),o=Object(c.b)("contacts/addContactRequest"),i=Object(c.b)("contacts/addContactSuccess"),s=Object(c.b)("contacts/addContactError"),b=Object(c.b)("contacts/deleteContactRequest"),j=Object(c.b)("contacts/deleteContactSuccess"),O=Object(c.b)("contacts/deleteContactError"),f=Object(c.b)("contact/filter")}},[[107,6,7]]]);
//# sourceMappingURL=main.ece32781.chunk.js.map